@model work_Avr.Models.Api.GetFieldDataModel

@section Head {
    <script src="js/snaleTableUpdater.js"> </script>
    <script>
        let updater = new SnakeTableUpdater(250,"snakeTable");
        updater.Start();
    </script>
    <script>

        document.addEventListener("keydown", snakeTableKeyDown);
        let lastKeyPressed = undefined;
        function snakeTableKeyDown(args)
        {
            console.log(args.keyCode);
            if (lastKeyPressed != args.key) {
            switch (args.key) {
                    case 37:
                        $.ajax("Api/GoLeft");
                        break;
                    case 38:
                        $.ajax("Api/GoUp");
                        break;
                    case 39:
                        $.ajax("Api/GoRight");
                        break;
                    case 40:
                        $.ajax("Api/GoDown");
                        break;
                }
            lastKeyPressed = args.key;
            
        }
    </script>
    <link rel="stylesheet" type="text/css" href="~/css/SnakeField.css" />
} 
<div id="snakeTable" class="snakeTable" tabindex="0" >
   @await Html.PartialAsync("/Views/PageParts/SnakeTable.cshtml", Model)
</div>

